sudo: required
dist: trusty
language: c

compiler:
  - clang
  - gcc

install:
    - wget https://cmocka.org/files/1.0/cmocka-1.0.1.tar.xz
    - tar -xvf cmocka-1.0.1.tar.xz
    - cd cmocka-1.0.1
    - mkdir build
    - cd build
    - cmake -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Debug ..
    - make
    - sudo make install
    - cd ../..
    - rm -rf cmocka-1.0.0

script:
  - cd tests && ./run_tests.sh
